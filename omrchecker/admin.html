<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OMR Checker</title>
  <script type="module" src="https://www.gstatic.com/firebasejs/10.12.1/firebase-app.js"></script>
  <script type="module" src="https://www.gstatic.com/firebasejs/10.12.1/firebase-firestore.js"></script>
  <style>
    body { font-family: sans-serif; padding: 1em; max-width: 600px; margin: auto; }
    label, select, input, textarea, button { display: block; margin: 10px 0; width: 100%; }
    .result { margin-top: 20px; font-weight: bold; }
    textarea { height: 100px; }
  </style>
</head>
<body>
  <h2>OMR Checker - ржЕрзНржпрж╛ржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓</h2>
  <label>ржмрж┐рж╖ржпрж╝
    <select id="subject">
      <option value="101">ржмрж╛ржВрж▓рж╛ рззржо ржкрждрзНрж░</option>
      <option value="102">ржмрж╛ржВрж▓рж╛ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="108">ржЗржВрж░рзЗржЬрж┐ рззржо ржкрждрзНрж░</option>
      <option value="109">ржЗржВрж░рзЗржЬрж┐ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="275">рждржерзНржп ржУ ржпрзЛржЧрж╛ржпрзЛржЧ ржкрзНрж░ржпрзБржХрзНрждрж┐</option>
      <option value="267">ржЗрж╕рж▓рж╛ржорзЗрж░ ржЗрждрж┐рж╣рж╛рж╕ ржУ рж╕ржВрж╕рзНржХрзГрждрж┐ рззржо ржкрждрзНрж░</option>
      <option value="268">ржЗрж╕рж▓рж╛ржорзЗрж░ ржЗрждрж┐рж╣рж╛рж╕ ржУ рж╕ржВрж╕рзНржХрзГрждрж┐ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="269">ржкрзМрж░ржирзАрждрж┐ ржУ рж╕рзБрж╢рж╛рж╕ржи рззржо ржкрждрзНрж░</option>
      <option value="270">ржкрзМрж░ржирзАрждрж┐ ржУ рж╕рзБрж╢рж╛рж╕ржи рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="110">ржЕрж░рзНржержирзАрждрж┐ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="271">рж╕ржорж╛ржЬржХрж░рзНржо рззржо ржкрждрзНрж░</option>
      <option value="272">рж╕ржорж╛ржЬржХрж░рзНржо рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="121">ржпрзБржХрзНрждрж┐ржмрж┐ржжрзНржпрж╛ рззржо ржкрждрзНрж░</option>
      <option value="122">ржпрзБржХрзНрждрж┐ржмрж┐ржжрзНржпрж╛ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="123">ржоржирзЛржмрж┐ржЬрзНржЮрж╛ржи рззржо ржкрждрзНрж░</option>
      <option value="124">ржоржирзЛржмрж┐ржЬрзНржЮрж╛ржи рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="249">ржЗрж╕рж▓рж╛ржо рж╢рж┐ржХрзНрж╖рж╛ рззржо ржкрждрзНрж░</option>
      <option value="250">ржЗрж╕рж▓рж╛ржо рж╢рж┐ржХрзНрж╖рж╛ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="225">ржЪрж╛рж░рзБ ржУ ржХрж╛рж░рзБржХрж▓рж╛ рззржо ржкрждрзНрж░</option>
      <option value="226">ржЪрж╛рж░рзБ ржУ ржХрж╛рж░рзБржХрж▓рж╛ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="273">ржЧрж╛рж░рзНрж╣рж╕рзНржерзНржп ржмрж┐ржЬрзНржЮрж╛ржи рззржо ржкрждрзНрж░</option>
      <option value="274">ржЧрж╛рж░рзНрж╣рж╕рзНржерзНржп ржмрж┐ржЬрзНржЮрж╛ржи рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="125">ржнрзВржЧрзЛрж▓ ржУ ржкрж░рж┐ржмрзЗрж╢ рззржо ржкрждрзНрж░</option>
      <option value="126">ржнрзВржЧрзЛрж▓ ржУ ржкрж░рж┐ржмрзЗрж╢ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="113">рж╕ржорж╛ржЬржмрж┐ржЬрзНржЮрж╛ржи рззржо ржкрждрзНрж░</option>
      <option value="114">рж╕ржорж╛ржЬржмрж┐ржЬрзНржЮрж╛ржи рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="127">ржЗрждрж┐рж╣рж╛рж╕ рззржо ржкрждрзНрж░</option>
      <option value="128">ржЗрждрж┐рж╣рж╛рж╕ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="119">ржжрж░рзНрж╢ржи рззржо ржкрждрзНрж░</option>
      <option value="120">ржжрж░рзНрж╢ржи рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="221">рж╕ржВржЧрзАржд рззржо ржкрждрзНрж░</option>
      <option value="222">рж╕ржВржЧрзАржд рзиржпрж╝ ржкрждрзНрж░</option>
    </select>
  </label>
  <label>рж╕рж╛рж▓ <input id="year" /></label>
  <label>ржмрзЛрж░рзНржб
    <select id="board">
      <option value="DHAKA">ржврж╛ржХрж╛</option>
      <option value="Ctg">ржЪржЯрзНржЯржЧрзНрж░рж╛ржо</option>
      <option value="RAJSHAHI">рж░рж╛ржЬрж╢рж╛рж╣рзА</option>
      <option value="BARISAL">ржмрж░рж┐рж╢рж╛рж▓</option>
      <option value="SYLHET">рж╕рж┐рж▓рзЗржЯ</option>
      <option value="DINAJPUR">ржжрж┐ржирж╛ржЬржкрзБрж░</option>
      <option value="COMILLA">ржХрзБржорж┐рж▓рзНрж▓рж╛</option>
      <option value="JESSORE">ржпрж╢рзЛрж░</option>
      <option value="Mymensingh">ржоржпрж╝ржоржирж╕рж┐ржВрж╣</option>
      <option value="Madrasah">ржорж╛ржжрзНрж░рж╛рж╕рж╛</option>
      <option value="Technical">ржЯрзЗржХржирж┐ржХрзНржпрж╛рж▓</option>
    </select>
  </label>
  <label>рж╕рзЗржЯ <input id="set" /></label>
  <label>рж╕ржарж┐ржХ ржЙрждрзНрждрж░ (ржХржорж╛ ржжрж┐ржпрж╝рзЗ ржжрж┐ржи, ржпрзЗржоржи: ржХ,ржЦ,ржЧ,ржШ)
    <textarea id="answers"></textarea>
  </label>
  <button onclick="saveAnswers()">ржЙрждрзНрждрж░ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзБржи</button>

  <hr />
  <h2>OMR ржЪрзЗржХ ржХрж░рзБржи</h2>
  <label>ржмрж┐рж╖ржпрж╝
    <select id="c_subject">
      <option value="101">ржмрж╛ржВрж▓рж╛ рззржо ржкрждрзНрж░</option>
      <option value="102">ржмрж╛ржВрж▓рж╛ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="108">ржЗржВрж░рзЗржЬрж┐ рззржо ржкрждрзНрж░</option>
      <option value="109">ржЗржВрж░рзЗржЬрж┐ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="275">рждржерзНржп ржУ ржпрзЛржЧрж╛ржпрзЛржЧ ржкрзНрж░ржпрзБржХрзНрждрж┐</option>
      <option value="267">ржЗрж╕рж▓рж╛ржорзЗрж░ ржЗрждрж┐рж╣рж╛рж╕ ржУ рж╕ржВрж╕рзНржХрзГрждрж┐ рззржо ржкрждрзНрж░</option>
      <option value="268">ржЗрж╕рж▓рж╛ржорзЗрж░ ржЗрждрж┐рж╣рж╛рж╕ ржУ рж╕ржВрж╕рзНржХрзГрждрж┐ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="269">ржкрзМрж░ржирзАрждрж┐ ржУ рж╕рзБрж╢рж╛рж╕ржи рззржо ржкрждрзНрж░</option>
      <option value="270">ржкрзМрж░ржирзАрждрж┐ ржУ рж╕рзБрж╢рж╛рж╕ржи рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="110">ржЕрж░рзНржержирзАрждрж┐ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="271">рж╕ржорж╛ржЬржХрж░рзНржо рззржо ржкрждрзНрж░</option>
      <option value="272">рж╕ржорж╛ржЬржХрж░рзНржо рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="121">ржпрзБржХрзНрждрж┐ржмрж┐ржжрзНржпрж╛ рззржо ржкрждрзНрж░</option>
      <option value="122">ржпрзБржХрзНрждрж┐ржмрж┐ржжрзНржпрж╛ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="123">ржоржирзЛржмрж┐ржЬрзНржЮрж╛ржи рззржо ржкрждрзНрж░</option>
      <option value="124">ржоржирзЛржмрж┐ржЬрзНржЮрж╛ржи рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="249">ржЗрж╕рж▓рж╛ржо рж╢рж┐ржХрзНрж╖рж╛ рззржо ржкрждрзНрж░</option>
      <option value="250">ржЗрж╕рж▓рж╛ржо рж╢рж┐ржХрзНрж╖рж╛ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="225">ржЪрж╛рж░рзБ ржУ ржХрж╛рж░рзБржХрж▓рж╛ рззржо ржкрждрзНрж░</option>
      <option value="226">ржЪрж╛рж░рзБ ржУ ржХрж╛рж░рзБржХрж▓рж╛ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="273">ржЧрж╛рж░рзНрж╣рж╕рзНржерзНржп ржмрж┐ржЬрзНржЮрж╛ржи рззржо ржкрждрзНрж░</option>
      <option value="274">ржЧрж╛рж░рзНрж╣рж╕рзНржерзНржп ржмрж┐ржЬрзНржЮрж╛ржи рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="125">ржнрзВржЧрзЛрж▓ ржУ ржкрж░рж┐ржмрзЗрж╢ рззржо ржкрждрзНрж░</option>
      <option value="126">ржнрзВржЧрзЛрж▓ ржУ ржкрж░рж┐ржмрзЗрж╢ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="113">рж╕ржорж╛ржЬржмрж┐ржЬрзНржЮрж╛ржи рззржо ржкрждрзНрж░</option>
      <option value="114">рж╕ржорж╛ржЬржмрж┐ржЬрзНржЮрж╛ржи рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="127">ржЗрждрж┐рж╣рж╛рж╕ рззржо ржкрждрзНрж░</option>
      <option value="128">ржЗрждрж┐рж╣рж╛рж╕ рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="119">ржжрж░рзНрж╢ржи рззржо ржкрждрзНрж░</option>
      <option value="120">ржжрж░рзНрж╢ржи рзиржпрж╝ ржкрждрзНрж░</option>
      <option value="221">рж╕ржВржЧрзАржд рззржо ржкрждрзНрж░</option>
      <option value="222">рж╕ржВржЧрзАржд рзиржпрж╝ ржкрждрзНрж░</option>
    </select>
  </label>
  <label>рж╕рж╛рж▓ <input id="c_year" /></label>
  <label>ржмрзЛрж░рзНржб
    <select id="c_board">
      <option value="DHAKA">ржврж╛ржХрж╛</option>
      <option value="Ctg">ржЪржЯрзНржЯржЧрзНрж░рж╛ржо</option>
      <option value="RAJSHAHI">рж░рж╛ржЬрж╢рж╛рж╣рзА</option>
      <option value="BARISAL">ржмрж░рж┐рж╢рж╛рж▓</option>
      <option value="SYLHET">рж╕рж┐рж▓рзЗржЯ</option>
      <option value="DINAJPUR">ржжрж┐ржирж╛ржЬржкрзБрж░</option>
      <option value="COMILLA">ржХрзБржорж┐рж▓рзНрж▓рж╛</option>
      <option value="JESSORE">ржпрж╢рзЛрж░</option>
      <option value="Mymensingh">ржоржпрж╝ржоржирж╕рж┐ржВрж╣</option>
      <option value="Madrasah">ржорж╛ржжрзНрж░рж╛рж╕рж╛</option>
      <option value="Technical">ржЯрзЗржХржирж┐ржХрзНржпрж╛рж▓</option>
    </select>
  </label>
  <label>рж╕рзЗржЯ <input id="c_set" /></label>
  <label>ржЖржкржирж╛рж░ ржЙрждрзНрждрж░ (ржХржорж╛ ржжрж┐ржпрж╝рзЗ ржжрж┐ржи)
    <textarea id="c_answers"></textarea>
  </label>
  <button onclick="checkAnswers()">ржлрж▓рж╛ржлрж▓ ржжрзЗржЦрзБржи</button>
  <div class="result" id="result"></div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.1/firebase-app.js";
    import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAhqfXhv2ikNKYDjs5WfEk0R99Az1XPjM8",
      authDomain: "omrchecker-884d2.firebaseapp.com",
      projectId: "omrchecker-884d2",
      storageBucket: "omrchecker-884d2.firebasestorage.app",
      messagingSenderId: "706020565677",
      appId: "1:706020565677:android:ef04e86db3caca05841c24"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    window.saveAnswers = async () => {
      const subject = subjectEl.value.trim();
      const year = yearEl.value.trim();
      const board = boardEl.value.trim();
      const set = setEl.value.trim();
      const answers = answersEl.value.trim().split(',').map(s => s.trim());
      const id = `${subject}_${year}_${board}_${set}`;

      await setDoc(doc(db, "answers", id), {
        subject, year, board, set, answers
      });
      alert("тЬЕ ржЙрждрзНрждрж░ рж╕ржВрж░ржХрзНрж╖ржг рж╣ржпрж╝рзЗржЫрзЗ");
    };

    window.checkAnswers = async () => {
      const subject = c_subject.value.trim();
      const year = c_year.value.trim();
      const board = c_board.value.trim();
      const set = c_set.value.trim();
      const yourAnswers = c_answers.value.trim().split(',').map(s => s.trim());
      const id = `${subject}_${year}_${board}_${set}`;

      const docSnap = await getDoc(doc(db, "answers", id));
      if (!docSnap.exists()) {
        result.innerText = "тЭМ ржЙрждрзНрждрж░ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ржирж┐!";
        return;
      }
      const correctAnswers = docSnap.data().answers;
      let score = 0;
      let total = correctAnswers.length;

      for (let i = 0; i < total; i++) {
        if (yourAnswers[i] && yourAnswers[i] === correctAnswers[i]) {
          score++;
        }
      }

      result.innerText = `тЬЕ ржорзЛржЯ ржкрзНрж░рж╢рзНржи: ${total}, рж╕ржарж┐ржХ: ${score}, ржнрзБрж▓: ${total - score}`;
    };

    const subjectEl = document.getElementById("subject");
    const yearEl = document.getElementById("year");
    const boardEl = document.getElementById("board");
    const setEl = document.getElementById("set");
    const answersEl = document.getElementById("answers");

    const c_subject = document.getElementById("c_subject");
    const c_year = document.getElementById("c_year");
    const c_board = document.getElementById("c_board");
    const c_set = document.getElementById("c_set");
    const c_answers = document.getElementById("c_answers");
    const result = document.getElementById("result");
  // Firebase config ржПржмржВ login() ржПрж░ ржкрж░...

  function saveAnswers() {
    const board = document.getElementById('board').value.trim();
    const year = document.getElementById('year').value.trim();
    const subject = document.getElementById('subject').value.trim();
    const set = document.getElementById('set').value.trim();
    const answersText = document.getElementById('answers').value.trim();

    if (!board || !year || !subject || !set || !answersText) {
      alert("тЪая╕П рж╕ржм ржШрж░ рж╕ржарж┐ржХржнрж╛ржмрзЗ ржкрзВрж░ржг ржХрж░рзБржи!");
      return;
    }

    const answersArray = answersText.split(',').map(a => a.trim());
    const docPath = `answers/${board}/${year}/${subject}/${set}`;

    db.doc(docPath).set({
      answers: answersArray,
      createdAt: new Date()
    }).then(() => {
      alert("тЬЕ ржЙрждрзНрждрж░ рж╕ржлрж▓ржнрж╛ржмрзЗ рж╕ржВрж░ржХрзНрж╖ржг рж╣ржпрж╝рзЗржЫрзЗ!");
      document.getElementById('answers').value = "";
    }).catch((error) => {
      console.error("ЁЯФе Firestore Error:", error);
      alert("тЭМ рж╕ржВрж░ржХрзНрж╖ржгрзЗ рж╕ржорж╕рзНржпрж╛ рж╣ржпрж╝рзЗржЫрзЗ, ржХржирж╕рзЛрж▓ ржЪрзЗржХ ржХрж░рзБржи");
    });
  }

  function login() {
    const provider = new firebase.auth.GoogleAuthProvider();
    auth.signInWithPopup(provider).then((result) => {
      const email = result.user.email;
      if (adminEmails.includes(email)) {
        document.getElementById('admin-panel').style.display = 'block';
        document.getElementById('login').style.display = 'none';
      } else {
        alert(\"тЭМ ржЖржкржирж┐ ржЕрзНржпрж╛ржбржорж┐ржи ржирж╛, рждрж╛ржЗ ржкрзНрж░ржмрзЗрж╢ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржи ржирж╛ред\");
      }
    }).catch((error) => {
      console.error(\"Login error\", error);
    });
  }
  </script>
</body>
  </html>
                                        
